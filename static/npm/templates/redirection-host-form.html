<input type="hidden" id="hostIdField" name="host_id" value="">
<div class="tabs">
    <button type="button" class="btn btn-secondary tab-link active" data-tab="general">General</button>
    <button type="button" class="btn btn-secondary tab-link" data-tab="custom">Custom Nginx Config</button>
  </div>
  <div class="tab-content" id="generalTab">
    <div class="form-group">
      <label for="domain_names">Domain Names (comma-separated)</label>
      <input type="text" id="domain_names" name="domain_names" value="${domainNames}" required>
    </div>

    <div class="form-group">
      <label for="forward_http_code">Redirect HTTP Code</label>
      <select id="forward_http_code" name="forward_http_code" required>
        <option value="301" ${forwardHttpCode === "301" ? "selected" : ""}>301 - Permanent Redirect</option>
        <option value="302" ${forwardHttpCode === "302" ? "selected" : ""}>302 - Temporary Redirect</option>
      </select>
    </div>

    <div class="form-group">
      <label for="forward_scheme">Protocol</label>
      <select id="forward_scheme" name="forward_scheme" required>
        <option value="auto" ${forwardScheme === "auto" ? "selected" : ""}>Auto</option>
        <option value="http" ${forwardScheme === "http" ? "selected" : ""}>HTTP</option>
        <option value="https" ${forwardScheme === "https" ? "selected" : ""}>HTTPS</option>
      </select>
    </div>

    <div class="form-group">
      <label for="forward_domain_name">Destination Domain</label>
      <input type="text" id="forward_domain_name" name="forward_domain_name" value="${forwardDomain}" required>
    </div>

    <div class="form-group">
      <label for="preserve_path">Preserve Path</label>
      <select id="preserve_path" name="preserve_path" required>
        <option value="true" ${preservePath ? "selected" : ""}>Yes</option>
        <option value="false" ${!preservePath ? "selected" : ""}>No</option>
      </select>
    </div>

    <div class="form-group">
      <label for="certificate_id">SSL Certificate</label>
      <select id="certificate_id" name="certificate_id"></select>
    </div>

    <div class="form-group toggle">
      <label>
        <div class="toggle-switch">
          <input type="checkbox" id="ssl_forced" name="ssl_forced" ${sslForced ? "checked" : ""}>
          <span class="slider"></span>
        </div>
        <span class="toggle-label">Force SSL</span>
      </label>
    </div>
    
    <div class="form-group toggle">
      <label>
        <div class="toggle-switch">
          <input type="checkbox" id="hsts_enabled" name="hsts_enabled" ${hstsEnabled ? "checked" : ""}>
          <span class="slider"></span>
        </div>
        <span class="toggle-label">HSTS Enabled</span>
      </label>
    </div>
    
    <div class="form-group toggle">
      <label>
        <div class="toggle-switch">
          <input type="checkbox" id="hsts_subdomains" name="hsts_subdomains" ${hstsSubdomains ? "checked" : ""}>
          <span class="slider"></span>
        </div>
        <span class="toggle-label">Include Subdomains</span>
      </label>
    </div>
    
    <div class="form-group toggle">
      <label>
        <div class="toggle-switch">
          <input type="checkbox" id="http2_support" name="http2_support" ${http2Support ? "checked" : ""}>
          <span class="slider"></span>
        </div>
        <span class="toggle-label">HTTP/2 Support</span>
      </label>
    </div>
    
    <div class="form-group toggle">
      <label>
        <div class="toggle-switch">
          <input type="checkbox" id="block_exploits" name="block_exploits" ${blockExploits ? "checked" : ""}>
          <span class="slider"></span>
        </div>
        <span class="toggle-label">Block Exploits</span>
      </label>
    </div>

  <div class="tab-content" id="customTab" style="display:none;">
    <div class="form-group">
      <label for="advanced_config">Custom Nginx Config</label>
      <textarea id="advanced_config" name="advanced_config" rows="10">${customConfig}</textarea>
    </div>
  </div>
  <div class="form-actions">
    <button type="submit" class="btn btn-primary">${isEdit ? "Update" : "Create"} Redirection</button>
    <button type="button" class="btn btn-secondary modal-close">Cancel</button>
  </div>